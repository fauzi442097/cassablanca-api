{"timestamp":"24-09-2024 05:35:56","level":"ERROR","message":"column \"createdAt\" does not exist","statusCode":500,"method":"POST","url":"/api/request-otp","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async users.findAll (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async users.findOne (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.getDataByEmail (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\user-repository.js:6:10)\n    at async Object.requestOTPService (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\auth-service.js:19:16)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\auth-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 05:36:24","level":"ERROR","message":"column \"createdAt\" of relation \"audits\" does not exist","statusCode":500,"method":"POST","url":"/api/request-otp","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async audits.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\audit-service.js:65:3)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\auth-service.js:48:5\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\auth-controller.js:9:3"}
{"timestamp":"24-09-2024 06:10:51","level":"ERROR","message":"data.ranking_req_type is not iterable","statusCode":500,"method":"PUT","url":"/api/config/level/silver","stack":"TypeError: data.ranking_req_type is not iterable\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:52:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:14:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 06:31:15","level":"ERROR","message":"notNull Violation: ranking_req.ranking_id cannot be null","statusCode":500,"method":"PUT","url":"/api/config/level/silver","stack":"SequelizeValidationError: notNull Violation: ranking_req.ranking_id cannot be null\n    at InstanceValidator._validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async InstanceValidator._validateAndRunHooks (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async ranking_req.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-req-repository.js:33:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:87:25\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:14:3"}
{"timestamp":"24-09-2024 06:32:54","level":"ERROR","message":"Assignment to constant variable.","statusCode":500,"method":"PUT","url":"/api/config/level/silver","stack":"TypeError: Assignment to constant variable.\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:87:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:14:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 06:49:30","level":"ERROR","message":"operator does not exist: character varying <> text[]","statusCode":500,"method":"PUT","url":"/api/config/level/silver","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async ranking_req.findAll (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Object.updateRanking (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:45:28)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:14:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 07:42:36","level":"ERROR","message":"notNull Violation: ranking.lvl cannot be null","statusCode":500,"method":"POST","url":"/api/config/level","stack":"SequelizeValidationError: notNull Violation: ranking.lvl cannot be null\n    at InstanceValidator._validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async InstanceValidator._validateAndRunHooks (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async ranking.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:106:28\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3"}
{"timestamp":"24-09-2024 07:44:56","level":"ERROR","message":"Missing where attribute in the options parameter","statusCode":500,"method":"POST","url":"/api/config/level","stack":"AssertionError [ERR_ASSERTION]: Missing where attribute in the options parameter\n    at ranking._optionsMustContainWhere (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2130:5)\n    at ranking.increment (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2083:10)\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:34)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:106:52\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 07:45:12","level":"ERROR","message":"Missing where attribute in the options parameter","statusCode":500,"method":"POST","url":"/api/config/level","stack":"AssertionError [ERR_ASSERTION]: Missing where attribute in the options parameter\n    at ranking._optionsMustContainWhere (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2130:5)\n    at ranking.increment (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2083:10)\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:34)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:106:52\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 07:45:55","level":"ERROR","message":"Missing where attribute in the options parameter","statusCode":500,"method":"POST","url":"/api/config/level","stack":"AssertionError [ERR_ASSERTION]: Missing where attribute in the options parameter\n    at ranking._optionsMustContainWhere (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2130:5)\n    at ranking.increment (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2083:10)\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:34)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:106:52\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 07:46:19","level":"ERROR","message":"Missing where attribute in the options parameter","statusCode":500,"method":"POST","url":"/api/config/level","stack":"AssertionError [ERR_ASSERTION]: Missing where attribute in the options parameter\n    at ranking._optionsMustContainWhere (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2130:5)\n    at ranking.increment (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2083:10)\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:34)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:106:52\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:5"}
{"timestamp":"24-09-2024 07:50:45","level":"ERROR","message":"rankingRepository.max is not a function","statusCode":500,"method":"POST","url":"/api/config/level","stack":"TypeError: rankingRepository.max is not a function\n    at Object.createRankingWithRequirement (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:105:44)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:23\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:17:11\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\validate-request.js:8:7\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)"}
{"timestamp":"24-09-2024 07:50:56","level":"ERROR","message":"invalid input syntax for type smallint: \"Silver nm\"","statusCode":500,"method":"POST","url":"/api/config/level","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async ranking.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:115:28\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3"}
{"timestamp":"24-09-2024 08:00:18","level":"ERROR","message":"Validation error","statusCode":500,"method":"POST","url":"/api/config/level","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async ranking.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\ranking-repository.js:65:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\config-service.js:115:28\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:26:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\config-controller.js:19:3"}
