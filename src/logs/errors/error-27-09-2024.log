{"timestamp":"27-09-2024 06:19:42","level":"ERROR","message":"console.logo is not a function","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"TypeError: console.logo is not a function\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:8:11\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:11\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\validate-request.js:8:7\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\authorize.js:29:7\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\jsonwebtoken\\verify.js:97:14)"}
{"timestamp":"27-09-2024 06:19:59","level":"ERROR","message":"Response.Success is not a function","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"TypeError: Response.Success is not a function\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:11:19\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:11\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\validate-request.js:8:7\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\authorize.js:29:7\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\jsonwebtoken\\verify.js:97:14)"}
{"timestamp":"27-09-2024 06:22:05","level":"ERROR","message":"productRepository is not defined","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"ReferenceError: productRepository is not defined\n    at Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:4:19)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:24\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:11\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\validate-request.js:8:7\n    at Layer.handle [as handle_request] (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\middleware\\authorize.js:29:7\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\jsonwebtoken\\verify.js:261:12"}
{"timestamp":"27-09-2024 06:38:43","level":"ERROR","message":"withTransaction is not defined","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"ReferenceError: withTransaction is not defined\n    at Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:35:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:5\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 06:39:58","level":"ERROR","message":"Cannot read properties of undefined (reading 'order_id')","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"TypeError: Cannot read properties of undefined (reading 'order_id')\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\order-respository.js:7:12)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:37:44\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 06:40:24","level":"ERROR","message":"Cannot read properties of undefined (reading 'order_id')","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"TypeError: Cannot read properties of undefined (reading 'order_id')\n    at Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\order-respository.js:8:12)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:37:44\n    at withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 06:41:47","level":"ERROR","message":[{"message":"orders.member_id cannot be null","type":"notNull Violation","path":"member_id","value":null,"origin":"CORE","instance":{"id":null,"product_id":1,"price":"0.01","qty":10000,"total_price":100,"chain_trx_id":"4a5e1e4b8f0a1b5a3d0f1e3f7b8c8f4d2f83f83e09e1b1db82e47d97b5b8f4e3","address":6,"coin_id":"USDT_tron","updatedAt":"2024-09-26T23:41:47.241Z","createdAt":"2024-09-26T23:41:47.241Z"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]}],"statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"SequelizeValidationError: notNull Violation: orders.member_id cannot be null\n    at InstanceValidator._validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async InstanceValidator._validateAndRunHooks (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async orders.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\order-respository.js:17:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:36:22\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3"}
{"timestamp":"27-09-2024 06:42:11","level":"ERROR","message":[{"message":"orders.member_id cannot be null","type":"notNull Violation","path":"member_id","value":null,"origin":"CORE","instance":{"id":null,"product_id":1,"price":"0.01","qty":10000,"total_price":100,"chain_trx_id":"4a5e1e4b8f0a1b5a3d0f1e3f7b8c8f4d2f83f83e09e1b1db82e47d97b5b8f4e3","address":6,"coin_id":"USDT_tron","updatedAt":"2024-09-26T23:42:11.735Z","createdAt":"2024-09-26T23:42:11.735Z"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]}],"statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"SequelizeValidationError: notNull Violation: orders.member_id cannot be null\n    at InstanceValidator._validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async InstanceValidator._validateAndRunHooks (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async orders.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\order-respository.js:17:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:38:22\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3"}
{"timestamp":"27-09-2024 06:42:36","level":"ERROR","message":"column \"createdAt\" of relation \"orders\" does not exist","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async orders.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\order-respository.js:17:10)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:36:22\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3"}
{"timestamp":"27-09-2024 06:45:48","level":"ERROR","message":"column \"createdAt\" does not exist","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async product.findAll (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async product.findOne (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async product.findByPk (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async Object.getDataById (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\product-repository.js:12:16)\n    at async Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:15:19)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3"}
{"timestamp":"27-09-2024 06:46:40","level":"ERROR","message":"column wallet.createdAt does not exist","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async wallet.findAll (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async wallet.findOne (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.getDataById (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\repositories\\wallet-repository.js:23:16)\n    at async Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:18:18)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 06:47:00","level":"ERROR","message":"column \"createdAt\" of relation \"audits\" does not exist","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"Error\n    at Query.run (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.insert (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async audits.create (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.store (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\audit-service.js:68:3)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:50:5\n    at async withTransaction (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:27:20)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3"}
{"timestamp":"27-09-2024 07:01:15","level":"ERROR","message":"getOrderPendingByMemberAndTrxId is not defined","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"ReferenceError: getOrderPendingByMemberAndTrxId is not defined\n    at Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:22:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 07:09:37","level":"ERROR","message":"getOrderByid is not defined","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"ReferenceError: getOrderByid is not defined\n    at Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:31:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
{"timestamp":"27-09-2024 07:09:48","level":"ERROR","message":"orderRepository.getOrderByid is not a function","statusCode":500,"method":"POST","url":"/api/member/payment/confirm","stack":"TypeError: orderRepository.getOrderByid is not a function\n    at Object.confirmPaymentMember (D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\services\\order-service.js:31:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\controllers\\order-controller.js:9:3\n    at async D:\\SIDE PROJECT\\MLM\\cassablanca-api\\src\\utils\\helper.js:18:5"}
